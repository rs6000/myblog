"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[9181],{191:e=>{e.exports=JSON.parse('{"permalink":"/myblog/blog/2025-Ubuntu-Server-Ops","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2025/0616/index.md","source":"@site/blog/2025/0616/index.md","title":"2025 Ubuntu \u4e3b\u6a5f\u904b\u71df\u7d00\u9304(\u9577\u671f\u66f4\u65b0)","description":"\u597d\u4e45\u6c92\u66f4\u65b0\u9019\u88e1\u4e86\uff0c\u7db2\u7ad9\u4e00\u76f4\u653e\u8457\u4e5f\u6c92\u58de\u6389","date":"2025-06-16T10:00:00.000Z","tags":[{"inline":false,"label":"Facebook","permalink":"/myblog/blog/tags/facebook","description":"Facebook tag description"},{"inline":false,"label":"Hello","permalink":"/myblog/blog/tags/hello","description":"Hello tag description"},{"inline":false,"label":"Docusaurus","permalink":"/myblog/blog/tags/docusaurus","description":"Docusaurus tag description"}],"readingTime":0.92,"hasTruncateMarker":true,"authors":[{"name":"Smile Hsu","title":"Full-stack developer ,Data Analyst","url":"https://smilehsu.cc","page":{"permalink":"/myblog/blog/authors/smilehsu"},"socials":{"github":"https://github.com/rs6000","newsletter":"https://smilehsu.cc"},"imageURL":"/myblog/img/authors/me.jpg","key":"smilehsu"}],"frontMatter":{"slug":"2025-Ubuntu-Server-Ops","title":"2025 Ubuntu \u4e3b\u6a5f\u904b\u71df\u7d00\u9304(\u9577\u671f\u66f4\u65b0)","authors":["smilehsu"],"tags":["facebook","hello","docusaurus"],"date":"2025-06-16T10:00"},"unlisted":false,"prevItem":{"title":"\u66f4\u63db\u4e3b\u6a5fIP\u5f9e\u7f8e\u570b\u52a0\u5dde\u63db\u5230\u65e5\u672c\u6771\u4eac","permalink":"/myblog/blog/Linode-changed-server-us-to-jp"},"nextItem":{"title":"\u5efa\u7acb React Native \u958b\u767c\u74b0\u5883","permalink":"/myblog/blog/Setting-up-a-React-Native-development-environment"}}')},2740:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>i,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>n,toc:()=>u});var n=t(191),s=t(4848),o=t(8453);const l={slug:"2025-Ubuntu-Server-Ops",title:"2025 Ubuntu \u4e3b\u6a5f\u904b\u71df\u7d00\u9304(\u9577\u671f\u66f4\u65b0)",authors:["smilehsu"],tags:["facebook","hello","docusaurus"],date:"2025-06-16T10:00"},a=void 0,i={authorsImageUrls:[void 0]},u=[];function c(e){const r={code:"code",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.p,{children:"\u597d\u4e45\u6c92\u66f4\u65b0\u9019\u88e1\u4e86\uff0c\u7db2\u7ad9\u4e00\u76f4\u653e\u8457\u4e5f\u6c92\u58de\u6389\r\n\u76ee\u524d\u5148\u767c\u4e00\u7bc7\u95dc\u65bc\u4e3b\u6a5f\u65e5\u5e38\u904b\u71df\u7684\u5e38\u7528\u6307\u4ee4\u8ddf\u81ea\u5df1\u5beb\u7684shell script\r\n\u53ea\u8981\u662f\u7ba1\u7406Linux\u4e3b\u6a5f\u6642\u5e38\u7528\u7684\u6771\u897f\uff0c\u5c31\u6703\u5148\u66ab\u6642\u5beb\u5728\u9019\u4e00\u7bc7\u5148\u5806\u8457\u4ee5\u5f8c\u6709\u7a7a\u518d\u5206\u985e..."}),"\n",(0,s.jsx)(r.p,{children:"\u76ee\u524d\u6211\u5beb\u4e86\u4e00\u96bbshell script\u7528\u4f86\u6bcf\u5929\u5099\u4efd\u4e3b\u6a5f\u5167\u7684WordPress\u7db2\u7ad9"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:'#!/bin/bash\r\n\r\ndirName=$(date "+%Y%m%d")\r\nfileName=$(date "+%Y%m%d_%H%M%S")\r\nbkDir="/root/temp/WEB_BK"\r\nfullPath="$bkDir/$dirName"\r\n\r\nif [ -d $fullPath ]; then\r\n        #echo "$bkDir \u5b58\u5728!"\r\n        cd $fullPath\r\n        cp -a /var/www/html/wordpress/ .\r\n        mysqldump -u \u8cc7\u6599\u5eab\u7ba1\u7406\u8005 -p\u8cc7\u6599\u5eab\u5bc6\u78bc \u8cc7\u6599\u5eab\u540d\u7a31 > \u532f\u51fa\u7684\u8cc7\u6599\u5eab\u6a94\u540d.sql\r\n        tar -zcf feylaibook_BK_$fileName.tar.gz wordpress/ feylaibook.sql\r\n        rm -rf wordpress/ feylaibook.sql\r\n\r\nelse\r\n        #echo "$bkDir \u4e0d\u5b58\u5728!"\r\n        mkdir -p $fullPath\r\n        cd $fullPath\r\n        cp -a /var/www/html/wordpress/ .\r\n        mysqldump -u \u8cc7\u6599\u5eab\u7ba1\u7406\u8005 -p\u8cc7\u6599\u5eab\u5bc6\u78bc \u8cc7\u6599\u5eab\u540d\u7a31 > \u532f\u51fa\u7684\u8cc7\u6599\u5eab\u6a94\u540d.sql\r\n        tar -zcf feylaibook_BK_$fileName.tar.gz wordpress/ feylaibook.sql\r\n        rm -rf wordpress/ feylaibook.sql\r\nfi\r\n\r\n\u8cc7\u6599\u593e\u9577\u9019\u6a23\r\n20240718\r\n\r\n\u8cc7\u6599\u593e\u88e1\u9762\r\nfeylaibook_BK_20240718_030001.tar.gz\r\n\r\n\u6392\u7a0b\u8a2d\u5b9a (\u6bcf\u59293AM\u5099\u4efd\u4e00\u6b21)\r\n\r\n0 3 * * * sh /root/temp/bk.sh\r\n\n'})})]})}function p(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>l,x:()=>a});var n=t(6540);const s={},o=n.createContext(s);function l(e){const r=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),n.createElement(o.Provider,{value:r},e.children)}}}]);