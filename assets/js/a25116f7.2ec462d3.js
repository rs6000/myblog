"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[8656],{1297:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>c});var r=s(8532),t=s(4848),i=s(8453);const l={slug:"Add-a-new-subdomain-using-Nginx",title:"\u4f7f\u7528 Nginx \u65b0\u589e\u4e00\u500b\u5b50\u7db2\u57df(Subdomain)",authors:["smilehsu"],tags:["facebook","hello","docusaurus"],date:"2025-10-10T10:00"},a=void 0,o={authorsImageUrls:[void 0]},c=[{value:"\u524d\u8a00:",id:"\u524d\u8a00",level:3},{value:"\u767c\u5e03\u65e5\u671f: 2022 \u5e74 6 \u6708 23 \u65e5\u4e0a\u5348 3:52",id:"\u767c\u5e03\u65e5\u671f-2022-\u5e74-6-\u6708-23-\u65e5\u4e0a\u5348-352",level:4},{value:"\u64cd\u4f5c\u6d41\u7a0b\u5982\u4e0b:",id:"\u64cd\u4f5c\u6d41\u7a0b\u5982\u4e0b",level:3},{value:"\u8a2d\u5b9a\u6a94\u7684\u5167\u5bb9\u5982\u4e0b:",id:"\u8a2d\u5b9a\u6a94\u7684\u5167\u5bb9\u5982\u4e0b",level:3},{value:"\u6700\u5f8c\u4e00\u6b65:\u8a2d\u5b9a\u9023\u7d50\u8207\u6253\u958b\u65b0\u7db2\u7ad9",id:"\u6700\u5f8c\u4e00\u6b65\u8a2d\u5b9a\u9023\u7d50\u8207\u6253\u958b\u65b0\u7db2\u7ad9",level:4},{value:"Reference:",id:"reference",level:3}];function d(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h3,{id:"\u524d\u8a00",children:"\u524d\u8a00:"}),"\n",(0,t.jsx)(n.h4,{id:"\u767c\u5e03\u65e5\u671f-2022-\u5e74-6-\u6708-23-\u65e5\u4e0a\u5348-352",children:"\u767c\u5e03\u65e5\u671f: 2022 \u5e74 6 \u6708 23 \u65e5\u4e0a\u5348 3:52"}),"\n",(0,t.jsx)(n.p,{children:"\u672c\u7bc7\u662f\u7d00\u9304\u5982\u4f55\u5728Nginx\u5e95\u4e0b\u8a2d\u5b9a\u5b50\u7db2\u57df(Subdomain)\u4e26\u4e14\u5b89\u88ddWordPress"}),"\n",(0,t.jsxs)(n.p,{children:["\u6211\u76ee\u524d\u7684\u7db2\u5740smilehsu.cc\u5c31\u662f\u4f7f\u7528WordPress\u67b6\u8a2d \u60f3\u8981\u589e\u52a0\u65b0\u7684\u7db2\u7ad9\u53c8\u4e0d\u8981\u8cb7\u65b0\u7684\u7db2\u57df\u540d\u7a31\uff0c\u5c31\u8981\u7528\u5230\u5b50\u7db2\u57df(Subdomain)\u529f\u80fd xxx.\u7db2\u57df\u540d\u7a31 xxx\u5c31\u662f\u7d66\u65b0\u7684\u7db2\u7ad9\u4f7f\u7528\u7684\u540d\u7a31\uff0cxxx\u81ea\u5df1\u53d6(\u5982",":shop","\u3001game\u3001lab...\u9650\u5b9a\u82f1\u6587...)"]}),"\n",(0,t.jsxs)(n.p,{children:["\u672c\u7bc7\u53ea\u6703\u5beb\u5982\u4f55\u5728\u65b0\u589eNginx\u7684Subdomain\u7684\u8a2d\u5b9a\u6a94 \u81f3\u65bc\u5982\u4f55\u5b89\u88ddWordPrsss\u3001\u5982\u4f55\u8a2d\u5b9aSSL \u8acb\u53c3\u8003\u6211\u4e4b\u524d\u5beb\u904e\u7684 ",(0,t.jsx)(n.a,{href:"http://test.smilehsu.cc/2021/02/2603",children:"[\u7b46\u8a18] Ubuntu20.04 \u5b89\u88ddLEMP +SSL"})]}),"\n",(0,t.jsx)(n.h3,{id:"\u64cd\u4f5c\u6d41\u7a0b\u5982\u4e0b",children:"\u64cd\u4f5c\u6d41\u7a0b\u5982\u4e0b:"}),"\n",(0,t.jsx)(n.p,{children:"\u9996\u5148\u6211\u7684\u7db2\u5740DNS\u662f\u4e3b\u6a5f\u5546(Linode)\u4ee3\u7ba1\u7684\uff0c\u6240\u4ee5\u5148\u5230DNS\u8a2d\u5b9a\u9801\u9762 \u628a\u8981\u65b0\u589e\u7684\u5b50\u7db2\u57df\u540d\u7a31\u52a0\u4e0a\u53bb(\u9019\u6b21\u7bc4\u4f8b\u662fshop\u7576\u5b50\u7db2\u57df\u540d\u7a31\uff0c\u6240\u4ee5\u5b8c\u6210\u5f8c\u7db2\u5740\u662f\u9019\u6a23 shop.smilehsu.cc )"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://smilehsu.cc/wp-content/uploads/2022/06/aaa.png",alt:"\u5716\u72471"})}),"\n",(0,t.jsxs)(n.p,{children:["\u63a5\u4e0b\u4f86\u4f7f\u7528\u5b50\u7db2\u57df\u7684\u7db2\u7ad9\uff0c\u6211\u9084\u662f\u4f7f\u7528WordPress\u4f86\u67b6\u8a2d \u6240\u4ee5\u4e0b\u8f09WordPress\u8ddf\u7db2\u7ad9\u7684\u8def\u5f91\u8a2d\u5b9a\u8207SSL\u8a2d\u5b9a \u8acb\u53c3\u8003",(0,t.jsx)(n.a,{href:"http://test.smilehsu.cc/2021/02/2603",children:"[\u7b46\u8a18] Ubuntu20.04 \u5b89\u88ddLEMP +SSL"})]}),"\n",(0,t.jsx)(n.p,{children:"\u6700\u5f8c\u9032\u5165\u672c\u7bc7\u7684\u91cd\u9ede\uff0c\u5728Nginx\u5e95\u4e0b\u65b0\u589e\u5b50\u7db2\u57df(Subdomain)\u7684\u8a2d\u5b9a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-script",children:"#\u65b0\u589e\u8a2d\u5b9a\u6a94 shop-wordpress (\u540d\u7a31\u81ea\u8a02)\r\ntouch /etc/nginx/sites-available/shop-wordpress\r\n\r\n#\u7de8\u8f2f\u8a2d\u5b9a\u6a94\r\nnano /etc/nginx/sites-available/shop-wordpress\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u8a2d\u5b9a\u6a94\u7684\u5167\u5bb9\u5982\u4e0b",children:"\u8a2d\u5b9a\u6a94\u7684\u5167\u5bb9\u5982\u4e0b:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-script",children:"server {\r\n    #\u8981\u6539\u7684\u5730\u65b9\r\n    root /var/www/html/myshop;\r\n    index  index.php index.html index.htm;\r\n    #\u8981\u6539\u7684\u5730\u65b9\r\n    server_name shop.smilehsu.cc\r\n\r\n    client_max_body_size 100M;\r\n    autoindex off;\r\n    location / {\r\n        try_files $uri $uri/ /index.php?$args;\r\n    }\r\n\r\n    location ~ \\.php$ {\r\n         include snippets/fastcgi-php.conf;\r\n         fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;\r\n         fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\r\n         include fastcgi_params;\r\n    }\r\n    # SSL\u8a2d\u5b9a\uff0c\u8981\u5148\u7528Certbot\u5b8c\u6210\r\n    listen [::]:443 ssl; # managed by Certbot\r\n    listen 443 ssl; # managed by Certbot\r\n    ssl_certificate /etc/letsencrypt/live/smilehsu.cc/fullchain.pem; # managed by Certbot\r\n    ssl_certificate_key /etc/letsencrypt/live/smilehsu.cc/privkey.pem; # managed by Certbot\r\n    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot\r\n    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot\r\n\r\n}\r\nserver {\r\n    if ($host = shop.smilehsu.cc) {\r\n        return 301 https://$host$request_uri;\r\n    } # managed by Certbot\r\n\r\n    listen 80;\r\n    listen [::]:80;\r\n    #\u8981\u6539\u7684\u5730\u65b9\r\n    server_name shop.smilehsu.cc\r\n\r\n    client_max_body_size 100M;\r\n    return 404; # managed by Certbot\r\n}\n"})}),"\n",(0,t.jsx)(n.h4,{id:"\u6700\u5f8c\u4e00\u6b65\u8a2d\u5b9a\u9023\u7d50\u8207\u6253\u958b\u65b0\u7db2\u7ad9",children:"\u6700\u5f8c\u4e00\u6b65:\u8a2d\u5b9a\u9023\u7d50\u8207\u6253\u958b\u65b0\u7db2\u7ad9"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-script",children:"#\u8a2d\u5b9a\u9023\u7d50\r\nsudo ln -s /etc/nginx/sites-available/shop-wordpress /etc/nginx/sites-enabled/\r\n\r\n# restart Nginx\r\nsudo systemctl restart nginx.service\r\n\r\n#\u6700\u5f8c\u5728\u700f\u89bd\u5668(chrome)\u4e0a\u8f38\u5165\u7db2\u5740 shop.smilehsu.cc \u5c31\u6703\u770b\u5230WordPress\u7684\u5b89\u88dd\u756b\u9762\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u4ee5\u4e0a\u6253\u5b8c\u6536\u5de5"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"reference",children:"Reference:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://bit.ly/3QCkyNE",children:"How to install WordPress in a subdomain on Cloud Servers with Nginx"})}),"\n",(0,t.jsx)(n.li,{children:"How to Install WordPress on a Subdomain with Nginx"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var r=s(6540);const t={},i=r.createContext(t);function l(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}},8532:e=>{e.exports=JSON.parse('{"permalink":"/myblog/blog/Add-a-new-subdomain-using-Nginx","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2025/1010/index.md","source":"@site/blog/2025/1010/index.md","title":"\u4f7f\u7528 Nginx \u65b0\u589e\u4e00\u500b\u5b50\u7db2\u57df(Subdomain)","description":"\u524d\u8a00:","date":"2025-10-10T10:00:00.000Z","tags":[{"inline":false,"label":"Facebook","permalink":"/myblog/blog/tags/facebook","description":"Facebook tag description"},{"inline":false,"label":"Hello","permalink":"/myblog/blog/tags/hello","description":"Hello tag description"},{"inline":false,"label":"Docusaurus","permalink":"/myblog/blog/tags/docusaurus","description":"Docusaurus tag description"}],"readingTime":2.23,"hasTruncateMarker":true,"authors":[{"name":"Smile Hsu","title":"Full-stack developer ,Data Analyst","url":"https://smilehsu.cc","page":{"permalink":"/myblog/blog/authors/smilehsu"},"socials":{"github":"https://github.com/rs6000","newsletter":"https://smilehsu.cc"},"imageURL":"/myblog/img/authors/me.jpg","key":"smilehsu"}],"frontMatter":{"slug":"Add-a-new-subdomain-using-Nginx","title":"\u4f7f\u7528 Nginx \u65b0\u589e\u4e00\u500b\u5b50\u7db2\u57df(Subdomain)","authors":["smilehsu"],"tags":["facebook","hello","docusaurus"],"date":"2025-10-10T10:00"},"unlisted":false,"prevItem":{"title":"\u628a\u7a0b\u5f0f\u63a8\u9001\u5230 Bitbucket","permalink":"/myblog/blog/Using-Bitbucket"},"nextItem":{"title":"\u5728\u4e3b\u6a5f\u7aef\u76f4\u63a5\u4e0b\u6307\u4ee4\u66f4\u65b0 WordPress","permalink":"/myblog/blog/Manual-Update-WordPress"}}')}}]);