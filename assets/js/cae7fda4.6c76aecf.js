"use strict";(self.webpackChunkmyblog=self.webpackChunkmyblog||[]).push([[5994],{8368:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"ithome-ironman/iThome_2022/iThome_2021_Day28","title":"\u6587\u7ae0\u6a19\u984c DAY 28","description":"\u521d\u7a3f\u6642\u9593 2021-09-18","source":"@site/docs/ithome-ironman/iThome_2022/iThome_2021_Day28.md","sourceDirName":"ithome-ironman/iThome_2022","slug":"/ithome-ironman/iThome_2022/iThome_2021_Day28","permalink":"/myblog/docs/ithome-ironman/iThome_2022/iThome_2021_Day28","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":28,"frontMatter":{"sidebar_position":28},"sidebar":"defaultSidebar","previous":{"title":"\u6587\u7ae0\u6a19\u984c DAY 27","permalink":"/myblog/docs/ithome-ironman/iThome_2022/iThome_2021_Day27"},"next":{"title":"\u6587\u7ae0\u6a19\u984c DAY 29","permalink":"/myblog/docs/ithome-ironman/iThome_2022/iThome_2021_Day29"}}');var t=r(4848),i=r(8453);const o={sidebar_position:28},a="\u6587\u7ae0\u6a19\u984c DAY 28",d={},l=[{value:"\u521d\u7a3f\u6642\u9593 2021-09-18",id:"\u521d\u7a3f\u6642\u9593-2021-09-18",level:5},{value:"\u524d\u8a00",id:"\u524d\u8a00",level:3},{value:"Step1",id:"step1",level:3},{value:"Step2",id:"step2",level:3},{value:"Step3",id:"step3",level:3},{value:"\u53c3\u8003\u8cc7\u6599",id:"\u53c3\u8003\u8cc7\u6599",level:3},{value:"tags: <code>13th\u9435\u4eba\u8cfd</code> <code>\u4e2d\u5e74\u5927\u53d4</code> <code>\u842c\u5e74\u83dc\u96de</code> <code>\u8d70\u4e0d\u51fa\u65b0\u624b\u6751</code> <code>\u81ea\u5b78\u6b77\u7a0b</code>",id:"tags-13th\u9435\u4eba\u8cfd-\u4e2d\u5e74\u5927\u53d4-\u842c\u5e74\u83dc\u96de-\u8d70\u4e0d\u51fa\u65b0\u624b\u6751-\u81ea\u5b78\u6b77\u7a0b",level:6}];function c(n){const e={a:"a",code:"code",h1:"h1",h3:"h3",h5:"h5",h6:"h6",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"\u6587\u7ae0\u6a19\u984c-day-28",children:"\u6587\u7ae0\u6a19\u984c DAY 28"})}),"\n",(0,t.jsx)(e.h5,{id:"\u521d\u7a3f\u6642\u9593-2021-09-18",children:"\u521d\u7a3f\u6642\u9593 2021-09-18"}),"\n",(0,t.jsx)(e.h3,{id:"\u524d\u8a00",children:"\u524d\u8a00"}),"\n",(0,t.jsx)(e.p,{children:"\u672c\u7bc7\u662f\u7d00\u9304\u5982\u4f55\u5728Ubuntu 20.04 LTS \u5e95\u4e0b\u642d\u5efaLEMP + WordPress + SSL\r\n\u9019\u4e00\u7bc7\u7b97\u662f\u8cc7\u6e90\u56de\u6536\uff0c\u56e0\u70ba\u9019\u662f\u51fa\u81ea\u6211\u4e4b\u524d\u5beb\u5728\u500b\u4eba\u90e8\u843d\u683c\u7684\u5167\u5bb9 XD"}),"\n",(0,t.jsxs)(e.p,{children:["\u4ee5\u4e0b\u5c31\u662f\u64cd\u4f5c\u6d41\u7a0b\uff0c\u5148\u8aaa\u7d50\u8ad6",":Ubuntu","\u8981\u88ddLEMP (LNMP) \u5f88\u65b9\u4fbf\r\n20\u5206\u9418\u5167(\u542b\u7b49\u5f85\u4e0b\u8f09\u6642\u9593)\u5c31\u5b8c\u6210\u6574\u500b\u7cfb\u7d71\u7684\u5efa\u7f6e...\u624b\u901f\u66f4\u5feb\u7684\u61c9\u8a72\u4e0d\u752810\u5206\u9418"]}),"\n",(0,t.jsx)(e.h3,{id:"step1",children:"Step1"}),"\n",(0,t.jsx)(e.p,{children:"\u5b89\u88ddUbuntu 20.04 LTS \u6211\u7684server\u5728Linode \u7cfb\u7d71\u88dd\u597d\u5f8c\u5c31\u76f4\u63a5SSH\u9023\u7dda"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-script",children:"#\u66f4\u65b0\u7cfb\u7d71\r\nsudo apt-get update\r\n\r\n#\u5b89\u88ddNginx\r\nsudo apt install nginx\r\n\r\n#\u5b89\u88dd MariaDB\r\nsudo apt-get install mariadb-server mariadb-client\r\n\r\n#\u555f\u52d5 Nginx & MariaDB\r\n\r\nsudo systemctl start nginx.service\r\nsudo systemctl enable nginx.service\r\n\r\nsudo systemctl start mariadb.service\r\nsudo systemctl enable mariadb.service\r\n\r\n#\u5b89\u88dd PHP7.4\r\nsudo apt-get install software-properties-common\r\nsudo add-apt-repository ppa:ondrej/php\r\nsudo apt update\r\n\r\n#\u5b89\u88dd PHP\u76f8\u95dc\u5957\u4ef6\r\nsudo apt install php7.4-fpm php7.4-common php7.4-mysql php7.4-gmp php7.4-curl php7.4-intl php7.4-mbstring php7.4-xmlrpc php7.4-gd php7.4-xml php7.4-cli php7.4-zip\n"})}),"\n",(0,t.jsx)(e.h3,{id:"step2",children:"Step2"}),"\n",(0,t.jsx)(e.p,{children:"Nginx\u3001MariaDB\u3001PHP\u76f8\u95dc\u8a2d\u5b9a"}),"\n",(0,t.jsx)(e.p,{children:"\u8cc7\u6599\u5eab\u8a2d\u5b9a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-script",children:"#\u8cc7\u6599\u5eab\u521d\u59cb\u8a2d\u5b9a (\u8a2d\u5b9a\u8cc7\u6599\u5eabroot\u5bc6\u78bc)\r\nsudo mysql_secure_installation\r\n\r\n#\u65b0\u589e\u8cc7\u6599\u5eab\u8ddf\u4f7f\u7528\u8005 (\u7d66WordPress\u7528)\r\n#\u4e0b\u9762\u7684\u5e33\u865f\u5bc6\u78bc\u8cc7\u6599\u5eab\u540d\u7a31\u8acb\u81ea\u884c\u66ff\u63db\r\n\r\nsudo mysql -u root -p\r\n\r\nCREATE DATABASE \u8cc7\u6599\u5eab\u540d\u7a31;\r\n\r\nCREATE USER '\u4f7f\u7528\u8005\u540d\u7a31'@'localhost' IDENTIFIED BY '\u5bc6\u78bc';\r\n\r\nGRANT ALL ON \u8cc7\u6599\u5eab\u540d\u7a31.* TO '\u4f7f\u7528\u8005'@'localhost' WITH GRANT OPTION;\r\n\r\nFLUSH PRIVILEGES;\r\n\r\nEXIT;\r\n\r\nsudo systemctl restart mariadb.service\n"})}),"\n",(0,t.jsx)(e.p,{children:"PHP\u8a2d\u5b9a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-script",children:"#\u7de8\u8f2fphp.ini\u5167\u5bb9 \u4e3b\u8981\u662f\u628a\u4e0a\u50b3\u6a94\u6848\u9650\u5236\u958b\u5927\r\nsudo nano /etc/php/7.4/fpm/php.ini\r\n\r\n#\u4ee5\u4e0b\u662fphp.ini\u8981\u6539\u7684\u90e8\u5206\r\nshort_open_tag = On\r\nmemory_limit = 256M\r\ncgi.fix_pathinfo = 0\r\n\r\n#\u4e0a\u50b3\u6a94\u6848\u5927\u5c0f\u9650\u5236\uff0c\u4e0d\u8981\u958b\u592a\u5927...\r\nupload_max_filesize = 20M\r\n\r\nmax_execution_time = 360\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u4e0b\u8f09WordPress"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-script",children:"#\u5148\u4e0b\u8f09wordpress\r\n\r\ncd /tmp\r\nwget https://tw.wordpress.org/latest-zh_TW.tar.gz\r\ntar -xvzf latest-zh_TW.tar.gz\r\n\r\nsudo chown -R www-data:www-data wordpress/\r\nsudo chmod -R 755 wordpress/\r\n\r\nsudo mv wordpress/ /var/www/html/\n"})}),"\n",(0,t.jsx)(e.p,{children:"Nginx\u8a2d\u5b9a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-script",children:"#\u7de8\u8f2f Nginx\u8a2d\u5b9a\u6a94\r\nsudo nano /etc/nginx/sites-available/wordpress\r\n\r\n#\u4ee5\u4e0b\u662f\u8a2d\u5b9a\u6a94\u7684\u5167\u5bb9(\u76f4\u63a5\u8cbc\u4e0a..server_name\u8981\u6539\u6210\u81ea\u5df1\u7684\u7db2\u5740)\r\n\r\nserver {\r\n    listen 80;\r\n    listen [::]:80;\r\n    root /var/www/html/wordpress;\r\n    index  index.php index.html index.htm;\r\n    server_name  example.com www.example.com;\r\n\r\n    client_max_body_size 100M;\r\n    autoindex off;\r\n    location / {\r\n        try_files $uri $uri/ /index.php?$args;\r\n    }\r\n\r\n    location ~ \\.php$ {\r\n         include snippets/fastcgi-php.conf;\r\n         fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;\r\n         fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\r\n         include fastcgi_params;\r\n    }\r\n}\r\n\r\n#\u5b58\u6a94\u96e2\u958b\u5f8c\r\nsudo ln -s /etc/nginx/sites-available/wordpress /etc/nginx/sites-enabled/\r\n\r\nsudo rm /etc/nginx/sites-enabled/default\r\n\r\nsudo systemctl restart nginx.service\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u5b8c\u6210\u4ee5\u4e0a\u6b65\u9a5f\uff0c\u6253\u958b\u700f\u89bd\u5668\uff0c\u8f38\u5165\u7db2\u5740\uff0c\u61c9\u8a72\u5c31\u53ef\u4ee5\u770b\u5230WordPress\u5b89\u88dd\u756b\u9762\uff0c\u9019\u908a\u6709\u500b\u5c0f\u5751...\u5982\u679c\u662f\u7528Chrome\u6703\u770b\u4e0d\u5230\u7db2\u9801...\u8981\u7528IP\r\n\u56e0\u70baChrome\u9810\u8a2d\u53ea\u80fd\u958b\u555fhttps\u7684\u7db2\u5740\uff0cSSL\u76ee\u524d\u9084\u6c92\u88dd...\r\n\u7528\u5176\u4ed6\u700f\u89bd\u5668\u5c31\u53ef\u4ee5\u770b\u5230\u756b\u9762~\u5982IE (Edge ...\u6211\u9084\u662f\u7fd2\u6163\u53eb\u5b83IE) \u6216Firefox\r\n\u63a5\u4e0b\u4f86\u6700\u5f8c\u7684\u6b65\u9a5f\u628aSSL\u88dd\u4e0a"}),"\n",(0,t.jsx)(e.h3,{id:"step3",children:"Step3"}),"\n",(0,t.jsx)(e.p,{children:"SSL \u5b89\u88dd&\u8a2d\u5b9a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-script",children:"sudo snap install core; sudo snap refresh core\r\nsudo snap install --classic certbot\r\nsudo ln -s /snap/bin/certbot /usr/bin/certbot\r\n\r\n#\u8b93certbot \u81ea\u52d5\u4fee\u6539Nginx\u8a2d\u5b9a\r\nsudo certbot --nginx\r\n\r\n#\u81ea\u52d5\u66f4\u65b0\u8a2d\u5b9a\r\nsudo crontab -e\r\n0 1 * * * /usr/bin/certbot renew >> /var/log/letsencrypt/renew.log\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u88dc\u5145:\r\n\u901a\u5e38\u4e3b\u6a5f\u5167\u9664\u4e86\u653e\u7db2\u7ad9\u5916\uff0c\u6211\u9084\u6703\u653eJupyter Notebook Server\r\nColab\u96d6\u7136\u8d85\u7d1a\u597d\u7528\uff0c\u4f46\u6211\u901a\u5e38\u662f\u8981\u653e\u4e00\u4e9b\u81e8\u6642\u6027\u7684\u6a94\u6848\r\n\u5982\u4e0a\u7db2\u767c\u554f\u7684\u7bc4\u4f8b\u6a94\u6848\uff0c\u5e73\u5e38\u5728\u5beb\u7684\u6a94\u6848\u9084\u662f\u653e\u5728\u81ea\u5df1\u7684\u4e3b\u6a5f\u5167\r\n\u5982\u679c\u6709\u4eba\u6572\u7897\u7684\u8a71\uff0c\u518d\u88dc\u5145\u9019\u65b9\u9762\u7684\u8a2d\u5b9a"}),"\n",(0,t.jsx)(e.p,{children:"\u4ee5\u4e0a\u5c31\u662f\u9435\u4eba\u8cfd\u7b2c28\u5929\u7684\u5167\u5bb9 :)"}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"\u53c3\u8003\u8cc7\u6599",children:"\u53c3\u8003\u8cc7\u6599"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://bit.ly/2NkJrRW",children:"How to Install WordPress on Ubuntu 20.04"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://bit.ly/3a9Wvm8",children:"Nginx on Ubuntu 20.04"})}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsxs)(e.h6,{id:"tags-13th\u9435\u4eba\u8cfd-\u4e2d\u5e74\u5927\u53d4-\u842c\u5e74\u83dc\u96de-\u8d70\u4e0d\u51fa\u65b0\u624b\u6751-\u81ea\u5b78\u6b77\u7a0b",children:["tags: ",(0,t.jsx)(e.code,{children:"13th\u9435\u4eba\u8cfd"})," ",(0,t.jsx)(e.code,{children:"\u4e2d\u5e74\u5927\u53d4"})," ",(0,t.jsx)(e.code,{children:"\u842c\u5e74\u83dc\u96de"})," ",(0,t.jsx)(e.code,{children:"\u8d70\u4e0d\u51fa\u65b0\u624b\u6751"})," ",(0,t.jsx)(e.code,{children:"\u81ea\u5b78\u6b77\u7a0b"})]})]})}function p(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(c,{...n})}):c(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>o,x:()=>a});var s=r(6540);const t={},i=s.createContext(t);function o(n){const e=s.useContext(i);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:o(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);